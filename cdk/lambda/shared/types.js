"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getEnvVar = exports.createErrorResponse = exports.createSuccessResponse = exports.createResponse = void 0;
// Common response helpers
const createResponse = (statusCode, body, headers = {}) => ({
    statusCode,
    headers: {
        'Content-Type': 'application/json',
        'Access-Control-Allow-Origin': '*',
        'Access-Control-Allow-Headers': 'Content-Type,X-Amz-Date,Authorization,X-Api-Key',
        'Access-Control-Allow-Methods': 'GET,POST,PUT,DELETE,OPTIONS',
        ...headers,
    },
    body: JSON.stringify(body),
});
exports.createResponse = createResponse;
const createSuccessResponse = (data) => (0, exports.createResponse)(200, { success: true, data });
exports.createSuccessResponse = createSuccessResponse;
const createErrorResponse = (statusCode, error, details) => (0, exports.createResponse)(statusCode, { success: false, error, details });
exports.createErrorResponse = createErrorResponse;
// Environment variables
const getEnvVar = (name, defaultValue) => {
    const value = process.env[name];
    if (!value && !defaultValue) {
        throw new Error(`Environment variable ${name} is required`);
    }
    return value || defaultValue;
};
exports.getEnvVar = getEnvVar;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ0eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFzQ0EsMEJBQTBCO0FBQ25CLE1BQU0sY0FBYyxHQUFHLENBQzVCLFVBQWtCLEVBQ2xCLElBQVMsRUFDVCxVQUFxQyxFQUFFLEVBQ2hCLEVBQUUsQ0FBQyxDQUFDO0lBQzNCLFVBQVU7SUFDVixPQUFPLEVBQUU7UUFDUCxjQUFjLEVBQUUsa0JBQWtCO1FBQ2xDLDZCQUE2QixFQUFFLEdBQUc7UUFDbEMsOEJBQThCLEVBQUUsaURBQWlEO1FBQ2pGLDhCQUE4QixFQUFFLDZCQUE2QjtRQUM3RCxHQUFHLE9BQU87S0FDWDtJQUNELElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztDQUMzQixDQUFDLENBQUM7QUFkVSxRQUFBLGNBQWMsa0JBY3hCO0FBRUksTUFBTSxxQkFBcUIsR0FBRyxDQUFDLElBQVMsRUFBRSxFQUFFLENBQUMsSUFBQSxzQkFBYyxFQUFDLEdBQUcsRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUFwRixRQUFBLHFCQUFxQix5QkFBK0Q7QUFFMUYsTUFBTSxtQkFBbUIsR0FBRyxDQUFDLFVBQWtCLEVBQUUsS0FBYSxFQUFFLE9BQWEsRUFBRSxFQUFFLENBQ3RGLElBQUEsc0JBQWMsRUFBQyxVQUFVLEVBQUUsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDO0FBRHBELFFBQUEsbUJBQW1CLHVCQUNpQztBQUVqRSx3QkFBd0I7QUFDakIsTUFBTSxTQUFTLEdBQUcsQ0FBQyxJQUFZLEVBQUUsWUFBcUIsRUFBVSxFQUFFO0lBQ3ZFLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDaEMsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLFlBQVksRUFBRTtRQUMzQixNQUFNLElBQUksS0FBSyxDQUFDLHdCQUF3QixJQUFJLGNBQWMsQ0FBQyxDQUFDO0tBQzdEO0lBQ0QsT0FBTyxLQUFLLElBQUksWUFBYSxDQUFDO0FBQ2hDLENBQUMsQ0FBQztBQU5XLFFBQUEsU0FBUyxhQU1wQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIFNoYXJlZCB0eXBlcyBmb3IgTGFtYmRhIGZ1bmN0aW9uc1xuZXhwb3J0IGludGVyZmFjZSBBUElHYXRld2F5UHJveHlFdmVudCB7XG4gIGh0dHBNZXRob2Q6IHN0cmluZztcbiAgcGF0aDogc3RyaW5nO1xuICBwYXRoUGFyYW1ldGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSB8IG51bGw7XG4gIHF1ZXJ5U3RyaW5nUGFyYW1ldGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSB8IG51bGw7XG4gIGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIGJvZHk6IHN0cmluZyB8IG51bGw7XG4gIHJlcXVlc3RDb250ZXh0OiB7XG4gICAgcmVxdWVzdElkOiBzdHJpbmc7XG4gICAgaWRlbnRpdHk6IHtcbiAgICAgIHNvdXJjZUlwOiBzdHJpbmc7XG4gICAgICB1c2VyQWdlbnQ6IHN0cmluZztcbiAgICB9O1xuICAgIGF1dGhvcml6ZXI/OiB7XG4gICAgICBjbGFpbXM6IHtcbiAgICAgICAgc3ViOiBzdHJpbmc7XG4gICAgICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgICAgIFtrZXk6IHN0cmluZ106IHN0cmluZztcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBUElHYXRld2F5UHJveHlSZXN1bHQge1xuICBzdGF0dXNDb2RlOiBudW1iZXI7XG4gIGhlYWRlcnM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICBib2R5OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGFtYmRhQ29udGV4dCB7XG4gIHJlcXVlc3RJZDogc3RyaW5nO1xuICBmdW5jdGlvbk5hbWU6IHN0cmluZztcbiAgZnVuY3Rpb25WZXJzaW9uOiBzdHJpbmc7XG4gIGF3c1JlcXVlc3RJZDogc3RyaW5nO1xuICBnZXRSZW1haW5pbmdUaW1lSW5NaWxsaXMoKTogbnVtYmVyO1xufVxuXG4vLyBDb21tb24gcmVzcG9uc2UgaGVscGVyc1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlc3BvbnNlID0gKFxuICBzdGF0dXNDb2RlOiBudW1iZXIsXG4gIGJvZHk6IGFueSxcbiAgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9XG4pOiBBUElHYXRld2F5UHJveHlSZXN1bHQgPT4gKHtcbiAgc3RhdHVzQ29kZSxcbiAgaGVhZGVyczoge1xuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJyxcbiAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyc6ICdDb250ZW50LVR5cGUsWC1BbXotRGF0ZSxBdXRob3JpemF0aW9uLFgtQXBpLUtleScsXG4gICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnOiAnR0VULFBPU1QsUFVULERFTEVURSxPUFRJT05TJyxcbiAgICAuLi5oZWFkZXJzLFxuICB9LFxuICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbn0pO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlU3VjY2Vzc1Jlc3BvbnNlID0gKGRhdGE6IGFueSkgPT4gY3JlYXRlUmVzcG9uc2UoMjAwLCB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfSk7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFcnJvclJlc3BvbnNlID0gKHN0YXR1c0NvZGU6IG51bWJlciwgZXJyb3I6IHN0cmluZywgZGV0YWlscz86IGFueSkgPT5cbiAgY3JlYXRlUmVzcG9uc2Uoc3RhdHVzQ29kZSwgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IsIGRldGFpbHMgfSk7XG5cbi8vIEVudmlyb25tZW50IHZhcmlhYmxlc1xuZXhwb3J0IGNvbnN0IGdldEVudlZhciA9IChuYW1lOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHZhbHVlID0gcHJvY2Vzcy5lbnZbbmFtZV07XG4gIGlmICghdmFsdWUgJiYgIWRlZmF1bHRWYWx1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRW52aXJvbm1lbnQgdmFyaWFibGUgJHtuYW1lfSBpcyByZXF1aXJlZGApO1xuICB9XG4gIHJldHVybiB2YWx1ZSB8fCBkZWZhdWx0VmFsdWUhO1xufTsiXX0=